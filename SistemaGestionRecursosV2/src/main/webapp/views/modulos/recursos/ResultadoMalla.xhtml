<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

    <fieldset style="border:6px groove #ccc; background:#F8ECE0;">
    <legend style="font-weight:bold; color:#61380B;">Elija la unidad de Aprendizaje a Agregar al Material Propuesto</legend>    
    <br/>
        <p:dataTable id="dtLstCursos" var="unidadAprendizaje" style="width: 800px;" value="#{recursosXTemaController.lstUnidadAprendizaje}">
            <p:column id="col3">#{unidadAprendizaje.unidadAprendizajeId}</p:column>
            <p:column id="col1">#{unidadAprendizaje.nombre}</p:column>
            <p:column id="col2">#{unidadAprendizaje.descripcion}</p:column>
            <p:column>
                <p:commandButton icon="ui-icon-search" update=":RMPP_Form:dtTemas" 
                                 action="#{recursosXTemaController.buscarPorUnidadAprendizajeTemas()}">
                    <f:setPropertyActionListener value="#{unidadAprendizaje}" target="#{recursosXTemaController.unidadAprendizaje}" />
                </p:commandButton>
            </p:column>
        </p:dataTable>   
    <br/>
    </fieldset> 

    <fieldset style="border:6px groove #ccc; background:#F8ECE0;">
    <legend style="font-weight:bold; color:#61380B;">Temas de la Unidad de Aprendizaje</legend>           
    <br/>
        <p:dataTable id="dtTemas" var="tema" style="width: 800px;" value="#{recursosXTemaController.lstTemas}">
            <p:column>#{tema.codigo}</p:column>
            <p:column>#{tema.nombre}</p:column>
            <p:column>
                <p:commandButton icon="ui-icon-search" update=":RMPP_Form:dtEnlaces" 
                                 action="#{recursosXTemaController.buscarPorTemaVideosFotosYEnlaces()}">
                    <f:setPropertyActionListener value="#{tema}" target="#{recursosXTemaController.tema}" />
                </p:commandButton>
            </p:column>
        </p:dataTable>
    <br/>
    </fieldset>

    <fieldset style="border:6px groove #ccc; background:#F8ECE0;">
    <legend style="font-weight:bold; color:#61380B;">Recursos por Tema</legend>      
    <br/>
    <p:dataTable id="recursos" style="width: 800px;" value="#{recursosXTemaController.lstTemas}">
        <!--	
        <p:column>
            <p:dataTable id="dtVideos" var="video" style="width: 200px;float: left;"
                         value="#{recursosXTemaController.lstVideos}">
                <p:column headerText="Video">#{RecursosXTema.descripcion}</p:column>
            </p:dataTable>	
        </p:column>-->

        <p:column>
            <c:choose>
                <c:when test="${not empty recursosXTemaController.lstFotos}">
                    <p:dataTable id="dtFotos" var="foto" style="width: 200px;float: left;"
                                 value="#{recursosXTemaController.lstFotos}">
                        <p:column headerText="Foto">#{RecursosXTema.descripcion}</p:column>
                    </p:dataTable>
                </c:when>
                <c:otherwise>
                   No existe recursos imagene para este tema
                </c:otherwise>
            </c:choose>

        </p:column>

       <!-- <p:column>
            <p:dataTable id="dtEnlaces" var="enlace" style="width: 200px;float: left;"
                          value="#{recursosXTemaController.lstEnlaces}">
                <p:column headerText="Enlace">#{RecursosXTema.descripcion}</p:column>
            </p:dataTable>
        </p:column>-->
    </p:dataTable>
    <br/>
    </fieldset> 
</html>